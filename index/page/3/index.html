<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">
<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"ednow.github.io","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","width":400,"display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="ednow">
<meta property="og:url" content="http://ednow.github.io/index/page/3/index.html">
<meta property="og:site_name" content="ednow">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="ednow">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://ednow.github.io/index/page/3/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>ednow</title>
  
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-XQGJ63ZD9Y"></script>
    <script>
      if (CONFIG.hostname === location.hostname) {
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-XQGJ63ZD9Y');
      }
    </script>


  <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?83f04257c97e81cca692d7c4c7fbbc9a";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>




  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">ednow</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://ednow.github.io/2022/11/14/%E7%B3%BB%E7%BB%9F%E4%BC%98%E5%8C%96/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="ednow">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ednow">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/11/14/%E7%B3%BB%E7%BB%9F%E4%BC%98%E5%8C%96/" class="post-title-link" itemprop="url">系统优化</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-11-14 15:23:19" itemprop="dateCreated datePublished" datetime="2022-11-14T15:23:19+08:00">2022-11-14</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-04-16 22:31:03" itemprop="dateModified" datetime="2023-04-16T22:31:03+08:00">2023-04-16</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="线程池的设置"><a href="#线程池的设置" class="headerlink" title="线程池的设置"></a>线程池的设置</h1><p>sofa线程池中的业务线程池中，某个线程池的核心线程池是物理核心的30倍有用吗？（8cpu，核心线程数为300）</p>
<p><a target="_blank" rel="noopener" href="https://juejin.cn/post/6948034657321484318">别再纠结线程池大小/线程数量了，没有固定公式的</a></p>
<h1 id="系统限流方案"><a href="#系统限流方案" class="headerlink" title="系统限流方案"></a>系统限流方案</h1><p><a href="/2022/11/14/系统限流方案/">参考文献</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://ednow.github.io/2022/10/27/MySQL/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="ednow">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ednow">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/10/27/MySQL/" class="post-title-link" itemprop="url">MySQL</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-10-27 14:12:25" itemprop="dateCreated datePublished" datetime="2022-10-27T14:12:25+08:00">2022-10-27</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-08-03 00:32:02" itemprop="dateModified" datetime="2023-08-03T00:32:02+08:00">2023-08-03</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="一些技巧"><a href="#一些技巧" class="headerlink" title="一些技巧"></a>一些技巧</h1><h2 id="当mysql的表非常大的时候，count-非常慢怎么办"><a href="#当mysql的表非常大的时候，count-非常慢怎么办" class="headerlink" title="当mysql的表非常大的时候，count(*)非常慢怎么办"></a>当mysql的表非常大的时候，count(*)非常慢怎么办</h2><p><code>SELECT table_schema,table_name,table_rows FROM INFORMATION_SCHEMA.TABLES</code></p>
<p><code>SELECT table_name,table_rows FROM INFORMATION_SCHEMA.TABLES WHERE table_name = &#39;your_table_name&#39;</code></p>
<ul>
<li>table_schema：表在哪个数据库</li>
<li>table_name：表的名字</li>
<li>table_rows：表有多少行</li>
</ul>
<h2 id="查询数据库某张表占的存储空间"><a href="#查询数据库某张表占的存储空间" class="headerlink" title="查询数据库某张表占的存储空间"></a>查询数据库某张表占的存储空间</h2><details><summary>代码详情</summary>

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">select</span> concat(round(<span class="built_in">sum</span>(data_length<span class="operator">/</span><span class="number">1024</span><span class="operator">/</span><span class="number">1024</span>),<span class="number">2</span>),<span class="string">&#x27;MB&#x27;</span>) <span class="keyword">as</span> data_length_MB,  </span><br><span class="line">concat(round(<span class="built_in">sum</span>(index_length<span class="operator">/</span><span class="number">1024</span><span class="operator">/</span><span class="number">1024</span>),<span class="number">2</span>),<span class="string">&#x27;MB&#x27;</span>) <span class="keyword">as</span> index_length_MB  </span><br><span class="line"><span class="keyword">from</span> information_schema.tables    </span><br><span class="line"><span class="keyword">where</span> table_schema<span class="operator">=</span><span class="string">&#x27;数据库名称&#x27;</span> <span class="keyword">AND</span> table_name<span class="operator">=</span><span class="string">&#x27;表名称&#x27;</span>; </span><br></pre></td></tr></table></figure>
</details>

<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/l1394049664/article/details/81285809">查看MySQL数据库一个表所占的存储空间大小</a></p>
<h2 id="USING-BTREE的意义"><a href="#USING-BTREE的意义" class="headerlink" title="USING BTREE的意义"></a>USING BTREE的意义</h2><p>// TODO</p>
<h2 id="mysql中key-、primary-key-、unique-key-与index区别"><a href="#mysql中key-、primary-key-、unique-key-与index区别" class="headerlink" title="mysql中key 、primary key 、unique key 与index区别"></a>mysql中key 、primary key 、unique key 与index区别</h2><p>KEY <code>idx_type</code> (<code>type</code>)的意义是什么</p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/nanaMasuda/article/details/52543177">参考文献</a></p>
<h2 id="NOT-NULL约束的意义"><a href="#NOT-NULL约束的意义" class="headerlink" title="NOT NULL约束的意义"></a>NOT NULL约束的意义</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#96;create_time&#96; TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,</span><br><span class="line">&#96;update_time&#96; TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,</span><br></pre></td></tr></table></figure>
<p>像create_time只会第一次不传的话初始化。</p>
<p>但update_time加<code>ON UPDATE</code>之后每次不传的话，在更新的时候都会自动变化。</p>
<h2 id="查看建表语句"><a href="#查看建表语句" class="headerlink" title="查看建表语句"></a>查看建表语句</h2><h3 id="show关键字"><a href="#show关键字" class="headerlink" title="show关键字"></a>show关键字</h3><p><code>SHOW CREATE TABLE TEST</code></p>
<h3 id="desc关键字"><a href="#desc关键字" class="headerlink" title="desc关键字"></a>desc关键字</h3><p><code>desc tablename</code></p>
<p>key的意义：</p>
<p>1.如果键为空，则该列的值可以重复，表示该列没有索引，或者是非唯一复合索引的非前导列。</p>
<p>2.如果键是PRI，那么列就是主键的一个组成部分。</p>
<p>3.如果Key为UNI，则该列是唯一值索引的第一列(前导列)，并且不能包含空值。</p>
<p>4.如果Key为MUL，则该列的值可以重复。此列是非唯一索引的前导列(第一列)或唯一索引的组成部分，但可以包含空值。</p>
<p><a target="_blank" rel="noopener" href="https://m.114nba.com/keji/202207/104534.html">参考文献</a></p>
<h3 id="从schema里面拿"><a href="#从schema里面拿" class="headerlink" title="从schema里面拿"></a>从schema里面拿</h3><details><summary>代码详情</summary>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">use information_schema;</span><br><span class="line">select * from columns where table_name&#x3D;&#39;jos_modules&#39;;</span><br></pre></td></tr></table></figure>
</details>

<p><a target="_blank" rel="noopener" href="https://developer.aliyun.com/article/314432">参考文献</a></p>
<h2 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h2><h3 id="Mysql中timestamp用法详解"><a href="#Mysql中timestamp用法详解" class="headerlink" title="Mysql中timestamp用法详解"></a>Mysql中timestamp用法详解</h3><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/hyfsx/article/details/114101630">Mysql中timestamp用法详解</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/lonelymanontheway/article/details/127292085">MySQL timestamp(3)问题</a></p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/route/p/15838480.html">timestamp(3) 表示秒后3位小数，注意最多为6位。</a></p>
<h3 id="varchar"><a href="#varchar" class="headerlink" title="varchar"></a>varchar</h3><p>mysql 中的 varchar 是有最大长度限制的,这个值是 65535 个字节。</p>
<p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/101215458">最大限制</a></p>
<h3 id="ADD"><a href="#ADD" class="headerlink" title="ADD"></a>ADD</h3><p>add column after</p>
<h3 id="insert"><a href="#insert" class="headerlink" title="insert"></a>insert</h3><p>一次插入多行，传统mysql语句不支持</p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/u012660464/article/details/75529216">参考文献</a></p>
<h3 id="explain"><a href="#explain" class="headerlink" title="explain"></a>explain</h3><ul>
<li>ALL：表示全表扫描，性能最差。</li>
<li>index：表示基于索引的全表扫描，先扫描索引再扫描全表数据。</li>
<li>range：表示使用索引范围查询。使用&gt;、&gt;=、&lt;、&lt;=、in等等。</li>
<li>ref：表示使用非唯一索引进行单值查询。</li>
<li>eq_ref：一般情况下出现在多表join查询，表示前面表的每一个记录，都只能匹配后面表的一行结果。</li>
<li>const：表示使用主键或唯一索引做等值查询，常量查询。</li>
<li>NULL：表示不用访问表，速度最快。</li>
</ul>
<p>range的效率会比index高</p>
<p>这个功能有局限性,<strong>并不总会说出真相</strong>，但它的输出是可以获取的最好信息，值得花时间了解，因为可以学习到查询是如何执行的。学会解释EXPLAIN将帮助你了解MySQL优化器是如何工作的。</p>
<p>当执行查询时，这个<code>EXPLAIN</code>标记会使其返回关于在执行计划中每一步的信息，而不是执行它。它会返回一行或多行信息，显示出执行计划中的每一部分和执行的次序。</p>
<p>在查询中每个表在输出中只有一行。如果查询是两个表的联接，那么输出中将有两行。</p>
<ul>
<li>EXPLAIN EXTENDED看起来和正常的EXPLAIN的行为一样，但它会告诉服务器“逆向编译”执行计划为一个SELECT语句。</li>
<li>EXPLAIN PARTITIONS会显示查询将访问的分区，如果查询是基于分区表的话。它只在MySQL 5.1和更新版本中存在。</li>
</ul>
<p>explain的限制</p>
<ul>
<li>EXPLAIN根本不会告诉你触发器、存储过程或UDF会如何影响查询。</li>
<li>它并不支持存储过程，尽管可以手动抽取查询并单独地对其进行EXPLAIN操作。</li>
<li>它并不会告诉你MySOL在查询执行中所做的特定优化。</li>
<li>它并不会显示关于查询的执行计划的所有信息（MySOL开发者会尽可能增加更多信息。</li>
<li>它并不区分具有相同名学的事物。例如，它对内存排序和临时文件都使用“filesort”并且对于磁盘上和内存中的临时表都显示“Usingtemporary”。</li>
<li>可能会误导。例如，它会对一个有着很小LIMIT的查询显示全索引扫描。（MySQL5.1的EXPLAIN关于检查的行数会显示更精确的信息，但早期版本并不考虑LIMIT。）</li>
</ul>
<p>select查询的分类：</p>
<ul>
<li>简单查询</li>
<li>复杂查询<ul>
<li>简单子查询</li>
<li>所谓的派生表（在FROM子句中的子查询）</li>
<li>UNION查询</li>
</ul>
</li>
</ul>
<h4 id="Id列"><a href="#Id列" class="headerlink" title="Id列"></a>Id列</h4><p>如果在语句当中没有子查询或联合，那么只会有唯一的SELECT，于是每一行在这个列中都将显示个1。否则，内层的SELECT语句一般会顺序编号，越嵌套在里面的id越值大。</p>
<p>UNION结果总是放在一个匿名临时表中</p>
<blockquote>
<p><code>EXPLAIN SELECT 1 UNION ALL SELECT 1</code> 这是什么语句</p>
</blockquote>
<h4 id="select-type-列"><a href="#select-type-列" class="headerlink" title="select_type 列"></a>select_type 列</h4><p>pp.727</p>
<h4 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h4><ul>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/u011619480/article/details/126323241">参考文献</a></li>
<li>参考书籍，高性能mysql</li>
</ul>
<h2 id="tinyint-1-和tinyint-4-的区别和用法"><a href="#tinyint-1-和tinyint-4-的区别和用法" class="headerlink" title="tinyint(1)和tinyint(4)的区别和用法"></a>tinyint(1)和tinyint(4)的区别和用法</h2><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/jaryle/article/details/52025023">参考文献</a></p>
<p>tinyint(1) 和 tinyint(4) 中的1和4并不表示存储长度，只有字段指定zerofill是有用，</p>
<h2 id="mysql单引号和双引号、反引号-的使用"><a href="#mysql单引号和双引号、反引号-的使用" class="headerlink" title="mysql单引号和双引号、反引号(`)的使用"></a>mysql单引号和双引号、反引号(`)的使用</h2><p>反引号：表名和字段名都用反引号引起来用来区分MYSQL的保留字与普通字符。</p>
<p>单引号双引号：MySQL里引用字符串时需要用一对英文单引号或英文双引号将字符串常量括起来。</p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/keye/p/15166061.html">MySQL 中的单引号、双引号、反引号</a> </p>
<p>[Mysql 中反引号 ( ` )作用](<a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_37189082/article/details/100010733">https://blog.csdn.net/qq_37189082/article/details/100010733</a>)</p>
<h2 id="json解析"><a href="#json解析" class="headerlink" title="json解析"></a>json解析</h2><p>你可以使用 <code>JSON_EXTRACT()</code> 函数在MySQL中从JSON字符串中提取key值。语法如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">JSON_EXTRACT(json_doc, path)</span><br></pre></td></tr></table></figure>
<ul>
<li><code>json_doc</code> 是包含JSON字符串的列或字段</li>
<li><code>path</code> 是你要提取的JSON对象的路径</li>
</ul>
<p>例子：</p>
<p>假设你有一个名为 <code>Details</code> 的列，它包括如下的JSON字符串：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;FirstName&quot;</span>: <span class="string">&quot;John&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;LastName&quot;</span>: <span class="string">&quot;Doe&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;Email&quot;</span>: <span class="string">&quot;john.doe@example.com&quot;</span>,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>要提取 <code>Email</code> 的值，可以使用如下的SQL命令：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> JSON_EXTRACT(Details, <span class="string">&#x27;$.Email&#x27;</span>) <span class="keyword">as</span> Email <span class="keyword">FROM</span>  table_name;</span><br></pre></td></tr></table></figure>
<p>上述命令会返回：”<a href="mailto:&#106;&#x6f;&#x68;&#x6e;&#x2e;&#x64;&#111;&#101;&#64;&#101;&#x78;&#97;&#109;&#112;&#x6c;&#101;&#46;&#99;&#x6f;&#109;">&#106;&#x6f;&#x68;&#x6e;&#x2e;&#x64;&#111;&#101;&#64;&#101;&#x78;&#97;&#109;&#112;&#x6c;&#101;&#46;&#99;&#x6f;&#109;</a>“.</p>
<p>如果你想直接获取没有双引号的纯字符串，可以使用<code>-&gt;&gt;</code>操作符。例如:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> Details<span class="operator">-</span><span class="operator">&gt;&gt;</span><span class="string">&#x27;$.Email&#x27;</span> <span class="keyword">as</span> Email <span class="keyword">FROM</span> table_name;</span><br></pre></td></tr></table></figure>
<p>这会直接返回: <a href="mailto:&#106;&#111;&#x68;&#x6e;&#x2e;&#x64;&#111;&#x65;&#x40;&#101;&#x78;&#97;&#109;&#112;&#x6c;&#x65;&#x2e;&#x63;&#111;&#109;">&#106;&#111;&#x68;&#x6e;&#x2e;&#x64;&#111;&#x65;&#x40;&#101;&#x78;&#97;&#109;&#112;&#x6c;&#x65;&#x2e;&#x63;&#111;&#109;</a> ，不带双引号。</p>
<h2 id="Mybatis"><a href="#Mybatis" class="headerlink" title="Mybatis"></a>Mybatis</h2><h3 id="foreach的时候判断条件insert"><a href="#foreach的时候判断条件insert" class="headerlink" title="foreach的时候判断条件insert"></a>foreach的时候判断条件insert</h3><p>在使用 MyBatis 时，你可以使用 if 元素来进行条件插入。以下是一个示例：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">insert</span> <span class="attr">id</span>=<span class="string">&quot;table&quot;</span>&gt;</span></span><br><span class="line">    insert into table (`id`, `b`,`status`)</span><br><span class="line">    <span class="tag">&lt;<span class="name">trim</span> <span class="attr">prefix</span>=<span class="string">&quot;values&quot;</span> <span class="attr">prefixOverrides</span>=<span class="string">&quot;,&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">foreach</span> <span class="attr">collection</span>=<span class="string">&quot;list&quot;</span> <span class="attr">item</span>=<span class="string">&quot;param&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;param.currentStatus == param.status&quot;</span>&gt;</span></span><br><span class="line">                (#&#123;param.id&#125;, #&#123;param.b&#125;, #&#123;param.status&#125;),</span><br><span class="line">            <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">foreach</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">trim</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">insert</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>在这个示例中，我使用了 if 元素来检查 <code>param.currentStatus</code> 是否等于 <code>someValue</code>。只有当该条件为真时，才会执行插入操作。同时，为了确保生成的 SQL 语句不会以逗号结尾，我在代码中添加了一个 <code>trim</code> 元素来移除多余的逗号。</p>
<h3 id="sql与include标签＜include-refid-“baseColumnList“-＞"><a href="#sql与include标签＜include-refid-“baseColumnList“-＞" class="headerlink" title="sql与include标签＜include refid=“baseColumnList“/＞"></a>sql与include标签<code>＜include refid=“baseColumnList“/＞</code></h3><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/lucky_she_niu/article/details/126930581">参考文献</a></p>
<h3 id="true-as-QUERYID的作用"><a href="#true-as-QUERYID的作用" class="headerlink" title="true as QUERYID的作用"></a><code>true as QUERYID</code>的作用</h3><p>预计是因为<code>selectByPrimaryKeyQueryId</code>这个api的目的是为了能够快速排查问题，可以传一个queryId的东西，到时候方便搜db的日志。但是如果不传的话默认是true？</p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_44371237/article/details/116529983">csdn</a></p>
<p><a target="_blank" rel="noopener" href="https://developer.aliyun.com/article/520594#:~:text=selectByPrimaryKeyQueryId">接口总结</a></p>
<p><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/57034815/what-does-true-as-queryid-mean">stackoverflow</a></p>
<h3 id="updateByPrimaryKeySelective"><a href="#updateByPrimaryKeySelective" class="headerlink" title="updateByPrimaryKeySelective"></a>updateByPrimaryKeySelective</h3><p>updateByPrimaryKeySelective：只是更新新的model中不为空的字段。(注意是新的Model）</p>
<p>updateByPrimaryKey：则会将为空的字段在数据库中置为NULL。（在新的mode中没有set的，都会置为null）</p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/xinruyi/p/11267202.html">insert和insertSelective区别</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_44050355/article/details/117958193">参考文献</a></p>
<h3 id="Mysql支持表情的字符集"><a href="#Mysql支持表情的字符集" class="headerlink" title="Mysql支持表情的字符集"></a>Mysql支持表情的字符集</h3><p><a target="_blank" rel="noopener" href="https://juejin.cn/post/6844903847018627079">参考文献</a></p>
<h3 id="MySQL单引号和双引号的区别"><a href="#MySQL单引号和双引号的区别" class="headerlink" title="MySQL单引号和双引号的区别"></a>MySQL单引号和双引号的区别</h3><p><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/8b338df44aa9">参考文献</a></p>
<h3 id="42000-1101-BLOB-TEXT-column-‘variable’-can’t-have-a-default-value"><a href="#42000-1101-BLOB-TEXT-column-‘variable’-can’t-have-a-default-value" class="headerlink" title="[ 42000 ] [ 1101 ] BLOB/TEXT column ‘variable’ can’t have a default value"></a>[ 42000 ] [ 1101 ] BLOB/TEXT column ‘variable’ can’t have a default value</h3><p><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/3466872/why-cant-a-text-column-have-a-default-value-in-mysql">Why can’t a text column have a default value in MySQL?</a></p>
<h3 id="timestamp转day-group-by"><a href="#timestamp转day-group-by" class="headerlink" title="timestamp转day group by"></a>timestamp转day group by</h3><p>对不起，我犯了个错误。你说得对。当我们对某个表达式（如DATE_FORMAT(your_timestamp_column, ‘%Y-%m-%d’)）进行GROUP BY操作时，我们必须在GROUP BY语句中使用相同的表达式，而不是别名。所以，你的查询应该是这样的：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> </span><br><span class="line">    DATE_FORMAT(your_timestamp_column, <span class="string">&#x27;%Y-%m-%d&#x27;</span>) <span class="keyword">as</span> formatted_date,</span><br><span class="line">    <span class="built_in">COUNT</span>(<span class="operator">*</span>)</span><br><span class="line"><span class="keyword">FROM</span> </span><br><span class="line">    your_table_name</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> </span><br><span class="line">    DATE_FORMAT(your_timestamp_column, <span class="string">&#x27;%Y-%m-%d&#x27;</span>);</span><br></pre></td></tr></table></figure>
<p>这个查询将对your_timestamp_column进行按日期格式化，然后按照这个格式化的日期进行分组，并计算每一组的数量。谢谢你的纠正，很感谢!</p>
<h2 id="SHOW-INDEX-详细讲解"><a href="#SHOW-INDEX-详细讲解" class="headerlink" title="SHOW INDEX 详细讲解"></a>SHOW INDEX 详细讲解</h2><ul>
<li>cardinality</li>
<li>索引的基数。这是一个估算值，表示索引中唯一值的数量。这个值对于查询优化器选择索引非常重要。</li>
</ul>
<h2 id="拼接字符串"><a href="#拼接字符串" class="headerlink" title="拼接字符串"></a>拼接字符串</h2><p><code>SELECT GROUP_CONCAT(DISTINCT name SEPARATOR &#39;, &#39;) AS names FROM my_table;</code></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://ednow.github.io/2022/10/12/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="ednow">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ednow">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/10/12/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/" class="post-title-link" itemprop="url">性能优化</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2022-10-12 16:18:24 / 修改时间：16:25:07" itemprop="dateCreated datePublished" datetime="2022-10-12T16:18:24+08:00">2022-10-12</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="下载优化"><a href="#下载优化" class="headerlink" title="下载优化"></a>下载优化</h1><p>httpdns</p>
<p>竞速</p>
<p>质量监控（链接耗时、连接成功率、下载速度、中断数量、中断率、慢速比 ）、客户端埋点上传</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://ednow.github.io/2022/10/12/kotlin/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="ednow">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ednow">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/10/12/kotlin/" class="post-title-link" itemprop="url">kotlin</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2022-10-12 16:01:51 / 修改时间：18:48:29" itemprop="dateCreated datePublished" datetime="2022-10-12T16:01:51+08:00">2022-10-12</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="kotlin简介"><a href="#kotlin简介" class="headerlink" title="kotlin简介"></a>kotlin简介</h1><p>创建一个对象不需要new关键字</p>
<p>类的属性可以用关键字 <code>var</code> 声明为可变的，否则使用只读关键字 <code>val</code> 声明为不可变。</p>
<h2 id="基础语法"><a href="#基础语法" class="headerlink" title="基础语法"></a>基础语法</h2><h3 id="定义常量与变量"><a href="#定义常量与变量" class="headerlink" title="定义常量与变量"></a>定义常量与变量</h3><p>可变变量定义：var 关键字 </p>
<details><summary>代码详情</summary>

<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> &lt;标识符&gt; : &lt;类型&gt; = &lt;初始化值&gt;</span><br></pre></td></tr></table></figure>
</details>

<p>不可变变量定义：val 关键字，只能赋值一次的变量(类似Java中final修饰的变量) </p>
<details><summary>代码详情</summary>

<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> &lt;标识符&gt; : &lt;类型&gt; = &lt;初始化值&gt;</span><br></pre></td></tr></table></figure>
</details>

<p>常量与变量都可以没有初始化值,但是在引用前必须初始化</p>
<p>编译器支持自动类型判断,即声明时可以不指定类型,由编译器判断。</p>
<details><summary>代码详情</summary>

<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> a: <span class="built_in">Int</span> = <span class="number">1</span></span><br><span class="line"><span class="keyword">val</span> b = <span class="number">1</span>       <span class="comment">// 系统自动推断变量类型为Int</span></span><br><span class="line"><span class="keyword">val</span> c: <span class="built_in">Int</span>      <span class="comment">// 如果不在声明时初始化则必须供变量类型</span></span><br><span class="line">c = <span class="number">1</span>           <span class="comment">// 明确赋值</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> x = <span class="number">5</span>        <span class="comment">// 系统自动推断变量类型为Int</span></span><br><span class="line">x += <span class="number">1</span>           <span class="comment">// 变量可修改</span></span><br></pre></td></tr></table></figure>
</details>


<h3 id="字符串模板"><a href="#字符串模板" class="headerlink" title="字符串模板"></a>字符串模板</h3><p><code>$</code> 表示一个变量名或者变量值</p>
<p><code>$varName</code> 表示变量值</p>
<p><code>$&#123;varName.fun()&#125;</code> 表示变量的方法返回值:</p>
<details><summary>代码详情</summary>

<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">1</span></span><br><span class="line"><span class="comment">// 模板中的简单名称：</span></span><br><span class="line"><span class="keyword">val</span> s1 = <span class="string">&quot;a is <span class="variable">$a</span>&quot;</span> </span><br><span class="line"></span><br><span class="line">a = <span class="number">2</span></span><br><span class="line"><span class="comment">// 模板中的任意表达式：</span></span><br><span class="line"><span class="keyword">val</span> s2 = <span class="string">&quot;<span class="subst">$&#123;s1.replace(<span class="string">&quot;is&quot;</span>, <span class="string">&quot;was&quot;</span>)&#125;</span>, but now is <span class="variable">$a</span>&quot;</span></span><br></pre></td></tr></table></figure>
</details>

<h3 id="NULL检查机制"><a href="#NULL检查机制" class="headerlink" title="NULL检查机制"></a>NULL检查机制</h3><p>Kotlin的空安全设计对于声明可为空的参数，在使用时要进行空判断处理，有两种处理方式，字段后加!!像Java一样抛出空异常，另一种字段后加?可不做处理返回值为 <code>null</code> 或配合 <code>?:</code> 做空判断处理</p>
<details><summary>代码详情</summary>

<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//类型后面加?表示可为空</span></span><br><span class="line"><span class="keyword">var</span> age: String? = <span class="string">&quot;23&quot;</span> </span><br><span class="line"><span class="comment">//抛出空指针异常</span></span><br><span class="line"><span class="keyword">val</span> ages = age!!.toInt()</span><br><span class="line"><span class="comment">//不做处理返回 null</span></span><br><span class="line"><span class="keyword">val</span> ages1 = age?.toInt()</span><br><span class="line"><span class="comment">//age为空返回-1</span></span><br><span class="line"><span class="keyword">val</span> ages2 = age?.toInt() ?: -<span class="number">1</span></span><br></pre></td></tr></table></figure>
</details>

<p>当一个引用可能为 null 值时, 对应的类型声明必须明确地标记为可为 null。</p>
<p>当 str 中的字符串内容不是一个整数时, 返回 null: </p>
<details><summary>代码详情</summary>

<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">parseInt</span><span class="params">(str: <span class="type">String</span>)</span></span>: <span class="built_in">Int</span>? &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</details>

<p>以下实例演示如何使用一个返回值可为 null 的函数:</p>
<details><summary>代码详情</summary>

<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">parseInt</span><span class="params">(str: <span class="type">String</span>)</span></span>: <span class="built_in">Int</span>? &#123;</span><br><span class="line">    <span class="keyword">return</span> str.toIntOrNull()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">printProduct</span><span class="params">(arg1: <span class="type">String</span>, arg2: <span class="type">String</span>)</span></span> &#123;</span><br><span class="line">    <span class="keyword">val</span> x = parseInt(arg1)</span><br><span class="line">    <span class="keyword">val</span> y = parseInt(arg2)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 直接使用 `x * y` 会导致错误, 因为它们可能为 null</span></span><br><span class="line">    <span class="keyword">if</span> (x != <span class="literal">null</span> &amp;&amp; y != <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="comment">// 在进行过 null 值检查之后, x 和 y 的类型会被自动转换为非 null 变量</span></span><br><span class="line">        println(x * y)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        println(<span class="string">&quot;&#x27;<span class="variable">$arg1</span>&#x27; or &#x27;<span class="variable">$arg2</span>&#x27; is not a number&quot;</span>)</span><br><span class="line">    &#125;    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    printProduct(<span class="string">&quot;6&quot;</span>, <span class="string">&quot;7&quot;</span>)</span><br><span class="line">    printProduct(<span class="string">&quot;a&quot;</span>, <span class="string">&quot;7&quot;</span>)</span><br><span class="line">    printProduct(<span class="string">&quot;a&quot;</span>, <span class="string">&quot;b&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</details>

<h3 id="类型检测及自动类型转换"><a href="#类型检测及自动类型转换" class="headerlink" title="类型检测及自动类型转换"></a>类型检测及自动类型转换</h3><p>我们可以使用 is 运算符检测一个表达式是否某类型的一个实例(类似于Java中的instanceof关键字)。 </p>
<p>做过类型判断以后，obj会被系统自动转换为String类型</p>
<details><summary>代码详情</summary>

<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">getStringLength</span><span class="params">(obj: <span class="type">Any</span>)</span></span>: <span class="built_in">Int</span>? &#123;</span><br><span class="line">  <span class="keyword">if</span> (obj <span class="keyword">is</span> String) &#123;</span><br><span class="line">    <span class="comment">// 做过类型判断以后，obj会被系统自动转换为String类型</span></span><br><span class="line">    <span class="keyword">return</span> obj.length </span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//在这里还有一种方法，与Java中instanceof不同，使用!is</span></span><br><span class="line">  <span class="comment">// if (obj !is String)&#123;</span></span><br><span class="line">  <span class="comment">//   // XXX</span></span><br><span class="line">  <span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// 这里的obj仍然是Any类型的引用</span></span><br><span class="line">  <span class="keyword">return</span> <span class="literal">null</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</details>

<details><summary>代码详情</summary>

<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">getStringLength</span><span class="params">(obj: <span class="type">Any</span>)</span></span>: <span class="built_in">Int</span>? &#123;</span><br><span class="line">  <span class="keyword">if</span> (obj !<span class="keyword">is</span> String)</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">null</span></span><br><span class="line">  <span class="comment">// 在这个分支中, `obj` 的类型会被自动转换为 `String`</span></span><br><span class="line">  <span class="keyword">return</span> obj.length</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</details>

<details><summary>代码详情</summary>

<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">getStringLength</span><span class="params">(obj: <span class="type">Any</span>)</span></span>: <span class="built_in">Int</span>? &#123;</span><br><span class="line">  <span class="comment">// 在 `&amp;&amp;` 运算符的右侧, `obj` 的类型会被自动转换为 `String`</span></span><br><span class="line">  <span class="keyword">if</span> (obj <span class="keyword">is</span> String &amp;&amp; obj.length &gt; <span class="number">0</span>)</span><br><span class="line">    <span class="keyword">return</span> obj.length</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">null</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</details>


<h3 id="区间"><a href="#区间" class="headerlink" title="区间"></a>区间</h3><p>todo</p>
<h3 id="函数定义"><a href="#函数定义" class="headerlink" title="函数定义"></a>函数定义</h3><p>函数定义使用关键字 fun，参数格式为：参数 : 类型 </p>
<details><summary>代码详情</summary>

<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">sum</span><span class="params">(a: <span class="type">Int</span>, b: <span class="type">Int</span>)</span></span>: <span class="built_in">Int</span> &#123;   <span class="comment">// Int 参数，返回值 Int</span></span><br><span class="line">    <span class="keyword">return</span> a + b</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</details>

<p><code>表达式</code>作为函数体，返回类型自动推断：</p>
<details><summary>代码详情</summary>

<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">sum</span><span class="params">(a: <span class="type">Int</span>, b: <span class="type">Int</span>)</span></span> = a + b</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">fun</span> <span class="title">sum</span><span class="params">(a: <span class="type">Int</span>, b: <span class="type">Int</span>)</span></span>: <span class="built_in">Int</span> = a + b   <span class="comment">// public 方法则必须确写出返回类型</span></span><br></pre></td></tr></table></figure>
</details>

<p>无返回值的函数(类似Java中的void)：</p>
<details><summary>代码详情</summary>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">fun printSum(a: Int, b: Int): Unit &#123; </span><br><span class="line">    print(a + b)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 如果是返回 Unit类型，则可以省略(对于public方法也是这样)：</span><br><span class="line">public fun printSum(a: Int, b: Int) &#123; </span><br><span class="line">    print(a + b)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</details>

<h4 id="可变长参数函数"><a href="#可变长参数函数" class="headerlink" title="可变长参数函数"></a>可变长参数函数</h4><p>函数的变长参数可以用 vararg 关键字进行标识：</p>
<details><summary>代码详情</summary>

<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">vars</span><span class="params">(<span class="keyword">vararg</span> v:<span class="type">Int</span>)</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(vt <span class="keyword">in</span> v)&#123;</span><br><span class="line">        print(vt)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 测试</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">(args: <span class="type">Array</span>&lt;<span class="type">String</span>&gt;)</span></span> &#123;</span><br><span class="line">    vars(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>)  <span class="comment">// 输出12345</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</details>

<h4 id="lambda-匿名函数"><a href="#lambda-匿名函数" class="headerlink" title="lambda(匿名函数)"></a>lambda(匿名函数)</h4><details><summary>代码详情</summary>

<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 测试</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">(args: <span class="type">Array</span>&lt;<span class="type">String</span>&gt;)</span></span> &#123;</span><br><span class="line">    <span class="keyword">val</span> sumLambda: (<span class="built_in">Int</span>, <span class="built_in">Int</span>) -&gt; <span class="built_in">Int</span> = &#123;x,y -&gt; x+y&#125;</span><br><span class="line">    println(sumLambda(<span class="number">1</span>,<span class="number">2</span>))  <span class="comment">// 输出 3</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</details>




<h2 id="尚未参透的特性"><a href="#尚未参透的特性" class="headerlink" title="尚未参透的特性"></a>尚未参透的特性</h2><p>这是不是inline function的特性？调用函数的时候传一个类似匿名箭头函数的东西？</p>
<details><summary>代码详情</summary>

<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> fileName = <span class="string">&quot;myfile.txt&quot;</span></span><br><span class="line"><span class="keyword">val</span> myfile = File(fileName)</span><br><span class="line"></span><br><span class="line">myfile.printWriter().use &#123; <span class="keyword">out</span> -&gt;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">out</span>.println(<span class="string">&quot;First line&quot;</span>)</span><br><span class="line">    <span class="keyword">out</span>.println(<span class="string">&quot;Second line&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</details>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://ednow.github.io/2022/09/06/spring-boot/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="ednow">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ednow">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/09/06/spring-boot/" class="post-title-link" itemprop="url">spring-boot</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-09-06 19:51:20" itemprop="dateCreated datePublished" datetime="2022-09-06T19:51:20+08:00">2022-09-06</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-04-16 22:31:03" itemprop="dateModified" datetime="2023-04-16T22:31:03+08:00">2023-04-16</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="spring"><a href="#spring" class="headerlink" title="spring"></a>spring</h1><h2 id="BeanCopier封装"><a href="#BeanCopier封装" class="headerlink" title="BeanCopier封装"></a>BeanCopier封装</h2><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq1805696978/article/details/123880615">参考文献</a></p>
<h2 id="利用spring自动注入list的实现策略模式"><a href="#利用spring自动注入list的实现策略模式" class="headerlink" title="利用spring自动注入list的实现策略模式"></a>利用spring自动注入list的实现策略模式</h2><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/nlznlz/article/details/82528411">参考文献</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://ednow.github.io/2022/09/06/sofa-rpc/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="ednow">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ednow">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/09/06/sofa-rpc/" class="post-title-link" itemprop="url">sofa-rpc</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-09-06 19:46:30" itemprop="dateCreated datePublished" datetime="2022-09-06T19:46:30+08:00">2022-09-06</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-07-13 21:36:52" itemprop="dateModified" datetime="2023-07-13T21:36:52+08:00">2023-07-13</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="sofa-rpc"><a href="#sofa-rpc" class="headerlink" title="sofa rpc"></a>sofa rpc</h1><h2 id="为什么需要需要rpc而不是简单的http"><a href="#为什么需要需要rpc而不是简单的http" class="headerlink" title="为什么需要需要rpc而不是简单的http"></a>为什么需要需要rpc而不是简单的http</h2><ul>
<li>但是如果是一个大型的网站，内部子系统较多、接口非常多的情况下，RPC框架的好处就显示出来了，首先就是长链接，不必每次通信都要像http 一样去3次握手什么的，减少了网络开销；</li>
<li>其次就是RPC框架一般都有注册中心，有丰富的监控管理；发布、下线接口、动态扩展等，对调用方来说是无感知、统一化的操作。</li>
<li>第三个来说就是安全性。最后就是最近流行的服务化架构、服务化治理，RPC框架是一个强力的支撑</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/xhaimail/article/details/97024071">参考文献</a></p>
<h2 id="注册中心的配置"><a href="#注册中心的配置" class="headerlink" title="注册中心的配置"></a>注册中心的配置</h2><p>SOFABoot RPC 也提供一个缓存文件(目前暂不支持)，当 Zookeeper 不可用时，使用该缓存文件进行服务发现。配置该缓存文件的方式如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">com.alipay.sofa.rpc.registry.address&#x3D;zookeeper:&#x2F;&#x2F;xxx:2181?file&#x3D;&#x2F;home&#x2F;admin&#x2F;registry</span><br></pre></td></tr></table></figure>
<p><a target="_blank" rel="noopener" href="https://www.wenjiangs.com/doc/zz3fug8u">参考文献</a></p>
<p><a target="_blank" rel="noopener" href="http://www.dawuzhe.cn/77228.html">RPC-02306</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://ednow.github.io/2022/09/06/Kafka/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="ednow">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ednow">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/09/06/Kafka/" class="post-title-link" itemprop="url">Kafka</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-09-06 19:46:16" itemprop="dateCreated datePublished" datetime="2022-09-06T19:46:16+08:00">2022-09-06</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-10-11 23:31:18" itemprop="dateModified" datetime="2022-10-11T23:31:18+08:00">2022-10-11</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Kafka、RabbitMQ、RocketMQ-之间的区别是什么"><a href="#Kafka、RabbitMQ、RocketMQ-之间的区别是什么" class="headerlink" title="Kafka、RabbitMQ、RocketMQ 之间的区别是什么 ?"></a>Kafka、RabbitMQ、RocketMQ 之间的区别是什么 ?</h1><p>总的来说，三大原因，语言、潮流、生态。</p>
<p>rpc和mq是分布式大厦门口最基础的两块砖。</p>
<p><a target="_blank" rel="noopener" href="https://www.zhihu.com/question/275090117">参考文献</a></p>
<h1 id="流式处理的简介"><a href="#流式处理的简介" class="headerlink" title="流式处理的简介"></a>流式处理的简介</h1><p>流式处理对实时性要求很高</p>
<p>流处理需要和时间打交道，尤其在用于流分析时，如 “最近 5 分钟的平均值”，这个 “最后 5 分钟” 的定义其实非常模糊，处理起来非常麻烦。</p>
<p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/460022822">参考文献</a></p>
<h1 id="kafka基本概念"><a href="#kafka基本概念" class="headerlink" title="kafka基本概念"></a>kafka基本概念</h1><p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/346642735">Kafka 中两个重要概念：主题与分区</a></p>
<p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/366375032">参考文献</a></p>
<p><a target="_blank" rel="noopener" href="https://www.bootwiki.com/apachekafka/apache-kafka-fundamentals.html">参考文献</a></p>
<h2 id="Topics"><a href="#Topics" class="headerlink" title="Topics"></a>Topics</h2><p>一个主题可以横跨多个 broker，以此来提供比单个 broker 更强大的性能。</p>
<h2 id="Partition"><a href="#Partition" class="headerlink" title="Partition"></a>Partition</h2><p>一个分区只属于单个主题。</p>
<p>同一主题下的不同分区包含的消息是不同的，分区在存储层面可以看作一个可追加的日志（Log）文件，消息在被追加到分区日志文件的时候都会分配一个特定的偏移量（offset）。</p>
<p>offset 是消息在分区中的唯一标识，Kafka 通过它来保证消息在分区内的顺序性，不过 offset 并不跨越分区，也就是说，Kafka 保证的是 $\color{green}{\text{分区有序}}$ 而不是主题有序。</p>
<p>每一条消息被发送到 broker 之前，会根据分区规则选择存储到哪个具体的分区。如果分区规则设定得合理，所有的消息都可以均匀地分配到不同的分区中。如果一个主题只对应一个文件，那么这个文件所在的机器I/O将会成为这个主题的性能瓶颈，而分区解决了这个问题。在创建主题的时候可以通过指定的参数来设置分区的个数，当然也可以在主题创建完成之后去修改分区的数量，通过增加分区的数量可以实现水平扩展。</p>
<h2 id="Partition-offset"><a href="#Partition-offset" class="headerlink" title="Partition offset"></a>Partition offset</h2><h2 id="Replicas-of-partition"><a href="#Replicas-of-partition" class="headerlink" title="Replicas of partition"></a>Replicas of partition</h2><h2 id="Brokers"><a href="#Brokers" class="headerlink" title="Brokers"></a>Brokers</h2><h2 id="Leader"><a href="#Leader" class="headerlink" title="Leader"></a>Leader</h2><h2 id="Follower"><a href="#Follower" class="headerlink" title="Follower"></a>Follower</h2><h1 id="kafka面试题"><a href="#kafka面试题" class="headerlink" title="kafka面试题"></a>kafka面试题</h1><p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/282993811">参考文献</a></p>
<h2 id="Zookeeper-对于-Kafka-的作用是什么？"><a href="#Zookeeper-对于-Kafka-的作用是什么？" class="headerlink" title="Zookeeper 对于 Kafka 的作用是什么？"></a>Zookeeper 对于 Kafka 的作用是什么？</h2><p>Zookeeper 是一个开放源码的、高性能的协调服务，它用于 Kafka 的分布式应用。</p>
<p>Zookeeper 主要用于在集群中不同节点之间进行通信。</p>
<p>在 Kafka 中，它被用于提交偏移量，因此如果节点在任何情况下都失败了，它都可以从之前提交的偏移量中获取除此之外，它还执行其他活动，如: leader 检测、分布式同步、配置管理、识别新节点何时离开或连接、集群、节点实时状态等等。</p>
<h2 id="Kafka-判断一个节点是否还活着有那两个条件？"><a href="#Kafka-判断一个节点是否还活着有那两个条件？" class="headerlink" title="Kafka 判断一个节点是否还活着有那两个条件？"></a>Kafka 判断一个节点是否还活着有那两个条件？</h2><p>（1）节点必须可以维护和 ZooKeeper 的连接，Zookeeper 通过心跳机制检查每个节点的连接</p>
<p>（2）如果节点是个 follower,他必须能及时的同步 leader 的写操作，延时不能太久</p>
<h2 id="数据传输的事务定义有哪三种？"><a href="#数据传输的事务定义有哪三种？" class="headerlink" title="数据传输的事务定义有哪三种？"></a>数据传输的事务定义有哪三种？</h2><p>和 MQTT 的事务定义一样都是 3 种。</p>
<p>（1）最多一次: 消息不会被重复发送，最多被传输一次，但也有可能一次不传输</p>
<p>（2）最少一次: 消息不会被漏发送，最少被传输一次，但也有可能被重复传输.</p>
<p>（3）精确的一次（Exactly once）: 不会漏传输也不会重复传输,每个消息都传输被一次而且仅仅被传输一次，这是大家所期望的。</p>
<h2 id="Kafka-与传统-MQ-消息系统之间有三个关键区别"><a href="#Kafka-与传统-MQ-消息系统之间有三个关键区别" class="headerlink" title="Kafka 与传统 MQ 消息系统之间有三个关键区别"></a>Kafka 与传统 MQ 消息系统之间有三个关键区别</h2><p>(1).Kafka 持久化日志，这些日志可以被重复读取和无限期保留</p>
<p>(2).Kafka 是一个分布式系统：它以集群的方式运行，可以灵活伸缩，在内部通过复制数据提升容错能力和高可用性</p>
<p>(3).Kafka 支持实时的流式处理</p>
<h2 id="讲一讲-kafka-的-ack-的三种机制"><a href="#讲一讲-kafka-的-ack-的三种机制" class="headerlink" title="讲一讲 kafka 的 ack 的三种机制"></a>讲一讲 kafka 的 ack 的三种机制</h2><p>request.required.acks 有三个值 0 1 -1(all)</p>
<p>0:生产者不会等待 broker 的 ack，这个延迟最低但是存储的保证最弱当 server 挂掉的时候就会丢数据。</p>
<p>1：服务端会等待 ack 值 leader 副本确认接收到消息后发送 ack 但是如果 leader挂掉后他不确保是否复制完成新 leader 也会导致数据丢失。</p>
<p>-1(all)：服务端会等所有的 follower 的副本受到数据后才会受到 leader 发出的ack，这样数据不会丢失</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://ednow.github.io/2022/09/06/rocketmq/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="ednow">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ednow">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/09/06/rocketmq/" class="post-title-link" itemprop="url">rocketmq</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-09-06 19:46:07" itemprop="dateCreated datePublished" datetime="2022-09-06T19:46:07+08:00">2022-09-06</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-04-16 22:31:03" itemprop="dateModified" datetime="2023-04-16T22:31:03+08:00">2023-04-16</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="rocketmq"><a href="#rocketmq" class="headerlink" title="rocketmq"></a>rocketmq</h1><h2 id="为什么使用rocketmq"><a href="#为什么使用rocketmq" class="headerlink" title="为什么使用rocketmq"></a>为什么使用rocketmq</h2><p><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/6540bbed4b39">为什么RocketMQ是金融核心系统消息中间件的第一选择</a></p>
<p>在企业整体架构中解耦，主要设计两个方面：一是简化减少交互，二是增加一个中间层实现两方的隔离。</p>
<h2 id="资料补充"><a href="#资料补充" class="headerlink" title="资料补充"></a>资料补充</h2><p><a target="_blank" rel="noopener" href="https://github.com/apache/rocketmq/tree/master">github仓库地址</a></p>
<p><a target="_blank" rel="noopener" href="https://github.com/apache/rocketmq/blob/master/docs/cn/best_practice.md">github仓库的中文文档</a></p>
<p><a target="_blank" rel="noopener" href="https://juejin.cn/post/7107609402131087396">Spring Boot集成RocketMQ以及RocketMQ的基本使用</a></p>
<h3 id="具体使用中的疑问"><a href="#具体使用中的疑问" class="headerlink" title="具体使用中的疑问"></a>具体使用中的疑问</h3><h4 id="DLQ-为前缀的topic是什么意思"><a href="#DLQ-为前缀的topic是什么意思" class="headerlink" title="%DLQ%为前缀的topic是什么意思"></a><code>%DLQ%</code>为前缀的topic是什么意思</h4><p>死信队列 (Dead letter queue)</p>
<p>如果重试消息的最大重试次数超过 16 次(默认)，则将消息放入 %DLQ% 队列(死信队列)。等待人工处理。</p>
<h4 id="rocketMQ读队列个数，写队列个数的作用？"><a href="#rocketMQ读队列个数，写队列个数的作用？" class="headerlink" title="rocketMQ读队列个数，写队列个数的作用？"></a>rocketMQ读队列个数，写队列个数的作用？</h4><h4 id="生产者与消费者的配置"><a href="#生产者与消费者的配置" class="headerlink" title="生产者与消费者的配置"></a>生产者与消费者的配置</h4><p>生产者组？</p>
<p>producer.group：这个value有什么用</p>
<p>consumer.instanceName</p>
<p>consumer.messageListener：listener的类</p>
<p>consumer.group</p>
<p>consumer.subscribes：</p>
<h5 id="比较好理解，但是这个配置需要怎么设置"><a href="#比较好理解，但是这个配置需要怎么设置" class="headerlink" title="比较好理解，但是这个配置需要怎么设置"></a>比较好理解，但是这个配置需要怎么设置</h5><p>maxReconsumeTimes</p>
<p>consumeThreadMax</p>
<p>consumeThreadMin</p>
<h4 id="RocketMQ中Topic、Tag如何正确使用"><a href="#RocketMQ中Topic、Tag如何正确使用" class="headerlink" title="RocketMQ中Topic、Tag如何正确使用"></a>RocketMQ中Topic、Tag如何正确使用</h4><p>1、消息类型是否一致：如普通消息，事务消息，定时消息，顺序消息，不同的消息类型使用不同的 Topic，无法通过 Tag 进行区分。</p>
<p>2、业务是否相关联：没有直接关联的消息，如淘宝交易消息，京东物流消息使用不同的 Topic 进行区分；而同样是天猫交易消息，电器类订单、女装类订单、化妆品类订单的消息可以用 Tag 进行区分。</p>
<p>3、消息优先级是否一致：如同样是物流消息，盒马必须小时内送达，天猫超市 24 小时内送达，淘宝物流则相对会会慢一些，不同优先级的消息用不同的 Topic 进行区分。</p>
<p>4、消息量级是否相当：有些业务消息虽然量小但是实时性要求高，如果跟某些万亿量级的消息使用同一个 Topic，则有可能会因为过长的等待时间而『饿死』，此时需要将不同量级的消息进行拆分，使用不同的 Topic。</p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/ye17186/article/details/89640286">参考文献</a></p>
<h4 id="rocketmq的instantName"><a href="#rocketmq的instantName" class="headerlink" title="rocketmq的instantName"></a>rocketmq的instantName</h4><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/sushuiyuzhou/article/details/108863676">rocketmq设置instanceName</a></p>
<p><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/8824a4f81f07">rocketmq InstanceName 作用和配置解析</a></p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/cainiao-Shun666/p/16160513.html">RocketMQ消费者设置了instanceName属性后消息竟不翼而飞 </a></p>
<h3 id="文档中的疑问"><a href="#文档中的疑问" class="headerlink" title="文档中的疑问"></a>文档中的疑问</h3><h4 id="「提交或回溯消费」应该是「提交或回溯消息」？"><a href="#「提交或回溯消费」应该是「提交或回溯消息」？" class="headerlink" title="「提交或回溯消费」应该是「提交或回溯消息」？"></a>「提交或回溯消费」应该是「提交或回溯消息」？</h4><p><a target="_blank" rel="noopener" href="https://github.com/apache/rocketmq/blob/master/docs/cn/concept.md#:~:text=%E8%80%85%E7%BB%84%E7%9A%84-,%E5%85%B6%E4%BB%96%E7%94%9F%E4%BA%A7%E8%80%85%E5%AE%9E%E4%BE%8B%E4%BB%A5%E6%8F%90%E4%BA%A4%E6%88%96%E5%9B%9E%E6%BA%AF%E6%B6%88%E8%B4%B9,-%E3%80%82">问题定位</a></p>
<h4 id="普通顺序消息和严格顺序消息的具体实践区别是什么？"><a href="#普通顺序消息和严格顺序消息的具体实践区别是什么？" class="headerlink" title="普通顺序消息和严格顺序消息的具体实践区别是什么？"></a>普通顺序消息和严格顺序消息的具体实践区别是什么？</h4><p><a target="_blank" rel="noopener" href="https://github.com/apache/rocketmq/blob/master/docs/cn/concept.md#:~:text=13-,%E6%99%AE%E9%80%9A%E9%A1%BA%E5%BA%8F%E6%B6%88%E6%81%AF,-%EF%BC%88Normal%20Ordered%20Message">疑问定位</a></p>
<h4 id="能够不指定tag就消费消息吗？"><a href="#能够不指定tag就消费消息吗？" class="headerlink" title="能够不指定tag就消费消息吗？"></a>能够不指定tag就消费消息吗？</h4><p><a target="_blank" rel="noopener" href="https://github.com/apache/rocketmq/blob/master/docs/cn/features.md#:~:text=%E8%80%85%E5%85%B3%E6%B3%A8%E4%BA%86-,%E6%9F%90%E4%B8%AAtopic%E4%B8%AD%E5%B8%A6%E6%9C%89%E6%9F%90%E4%BA%9Btag%E7%9A%84%E6%B6%88%E6%81%AF,-%EF%BC%8C%E8%BF%9B%E8%80%8C%E4%BB%8E%E8%AF%A5">疑问定位</a></p>
<h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><p>docker 安装完root账号的密码如何查看：<code>sudo docker exec -it gitlab grep &#39;Password:&#39; /etc/gitlab/initial_root_password</code></p>
<p><a target="_blank" rel="noopener" href="https://docs.gitlab.com/ee/install/docker.html#:~:text=root%20and%20the-,password,-from%20the%20following">参考文献</a></p>
<h2 id="运行小代码来测试"><a href="#运行小代码来测试" class="headerlink" title="运行小代码来测试"></a>运行小代码来测试</h2><h3 id="bug：RocketMQLog-WARN-Please-initialize-the-logger-system-properly"><a href="#bug：RocketMQLog-WARN-Please-initialize-the-logger-system-properly" class="headerlink" title="bug：RocketMQLog:WARN Please initialize the logger system properly."></a>bug：RocketMQLog:WARN Please initialize the logger system properly.</h3><details><summary>错误日志详情</summary>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">RocketMQLog:WARN No appenders could be found for logger (io.netty.util.internal.InternalThreadLocalMap).</span><br><span class="line">RocketMQLog:WARN Please initialize the logger system properly.</span><br><span class="line">Exception in thread &quot;main&quot; java.lang.IllegalStateException: org.apache.rocketmq.remoting.exception.RemotingSendRequestException: send request to &lt;dnow.com&#x2F;192.168.1.104:49159&gt; failed</span><br><span class="line">	at org.apache.rocketmq.client.impl.factory.MQClientInstance.updateTopicRouteInfoFromNameServer(MQClientInstance.java:679)</span><br><span class="line">	at org.apache.rocketmq.client.impl.factory.MQClientInstance.updateTopicRouteInfoFromNameServer(MQClientInstance.java:509)</span><br><span class="line">	at org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl.tryToFindTopicPublishInfo(DefaultMQProducerImpl.java:716)</span><br><span class="line">	at org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl.sendDefaultImpl(DefaultMQProducerImpl.java:580)</span><br><span class="line">	at org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl.send(DefaultMQProducerImpl.java:1398)</span><br><span class="line">	at org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl.send(DefaultMQProducerImpl.java:1342)</span><br><span class="line">	at org.apache.rocketmq.client.producer.DefaultMQProducer.send(DefaultMQProducer.java:330)</span><br><span class="line">	at Main$SyncProducer.main(Main.java:39)</span><br><span class="line">	at Main.main(Main.java:77)</span><br><span class="line">Caused by: org.apache.rocketmq.remoting.exception.RemotingSendRequestException: send request to &lt;dnow.com&#x2F;192.168.1.104:49159&gt; failed</span><br><span class="line">	at org.apache.rocketmq.remoting.netty.NettyRemotingAbstract.invokeSyncImpl(NettyRemotingAbstract.java:439)</span><br><span class="line">	at org.apache.rocketmq.remoting.netty.NettyRemotingClient.invokeSync(NettyRemotingClient.java:377)</span><br><span class="line">	at org.apache.rocketmq.client.impl.MQClientAPIImpl.getTopicRouteInfoFromNameServer(MQClientAPIImpl.java:1365)</span><br><span class="line">	at org.apache.rocketmq.client.impl.MQClientAPIImpl.getTopicRouteInfoFromNameServer(MQClientAPIImpl.java:1355)</span><br><span class="line">	at org.apache.rocketmq.client.impl.factory.MQClientInstance.updateTopicRouteInfoFromNameServer(MQClientInstance.java:622)</span><br><span class="line">	... 8 more</span><br><span class="line">Caused by: io.netty.channel.StacklessClosedChannelException</span><br><span class="line">	at io.netty.channel.AbstractChannel$AbstractUnsafe.write(Object, ChannelPromise)(Unknown Source)</span><br></pre></td></tr></table></figure>
</details>


<h4 id="问题排查"><a href="#问题排查" class="headerlink" title="问题排查"></a>问题排查</h4><p><a target="_blank" rel="noopener" href="https://github.com/apache/rocketmq-docker">官方说查看docker有没有跑起来的方法</a></p>
<p>结果这行代码都执行不了</p>
<details><summary>代码详情</summary>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"># docker exec -it 08ed21ce2d5b .&#x2F;mqadmin clusterList -n localhost:9876</span><br><span class="line"></span><br><span class="line">RocketMQLog:WARN No appenders could be found for logger (io.netty.util.internal.InternalThreadLocalMap).</span><br><span class="line">RocketMQLog:WARN Please initialize the logger system properly.</span><br><span class="line">org.apache.rocketmq.tools.command.SubCommandException: ClusterListSubCommand command failed</span><br><span class="line">        at org.apache.rocketmq.tools.command.cluster.ClusterListSubCommand.execute(ClusterListSubCommand.java:93)</span><br><span class="line">        at org.apache.rocketmq.tools.command.MQAdminStartup.main0(MQAdminStartup.java:145)</span><br><span class="line">        at org.apache.rocketmq.tools.command.MQAdminStartup.main(MQAdminStartup.java:96)</span><br><span class="line">Caused by: org.apache.rocketmq.remoting.exception.RemotingConnectException: connect to [localhost:9876] failed</span><br><span class="line">        at org.apache.rocketmq.remoting.netty.NettyRemotingClient.getAndCreateNameserverChannel(NettyRemotingClient.java:445)</span><br><span class="line">        at org.apache.rocketmq.remoting.netty.NettyRemotingClient.getAndCreateChannel(NettyRemotingClient.java:400)</span><br><span class="line">        at org.apache.rocketmq.remoting.netty.NettyRemotingClient.invokeSync(NettyRemotingClient.java:369)</span><br><span class="line">        at org.apache.rocketmq.client.impl.MQClientAPIImpl.getBrokerClusterInfo(MQClientAPIImpl.java:1335)</span><br><span class="line">        at org.apache.rocketmq.tools.admin.DefaultMQAdminExtImpl.examineBrokerClusterInfo(DefaultMQAdminExtImpl.java:327)</span><br><span class="line">        at org.apache.rocketmq.tools.admin.DefaultMQAdminExt.examineBrokerClusterInfo(DefaultMQAdminExt.java:258)</span><br><span class="line">        at org.apache.rocketmq.tools.command.cluster.ClusterListSubCommand.printClusterBaseInfo(ClusterListSubCommand.java:172)</span><br><span class="line">        at org.apache.rocketmq.tools.command.cluster.ClusterListSubCommand.execute(ClusterListSubCommand.java:88)</span><br></pre></td></tr></table></figure>
</details>

<p>群晖启动印象的时候没有启动namesrv</p>
<p><code>docker exec -it &#123;your container id&#125; bash</code></p>
<p><code>./mqnamesrv &amp;</code></p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/2YSP/p/11616376.html">参考文献</a></p>
<h3 id="bug-Exception-in-thread-“main”-org-apache-rocketmq-client-exception-MQClientException-No-route-info-of-this-topic-TopicTest"><a href="#bug-Exception-in-thread-“main”-org-apache-rocketmq-client-exception-MQClientException-No-route-info-of-this-topic-TopicTest" class="headerlink" title="bug: Exception in thread “main” org.apache.rocketmq.client.exception.MQClientException: No route info of this topic: TopicTest"></a>bug: Exception in thread “main” org.apache.rocketmq.client.exception.MQClientException: No route info of this topic: TopicTest</h3><ul>
<li>修改broker版本</li>
<li>启动broker<code>./mqbroker -n localhost:9876 autoCreateTopicEnable=true &amp;</code></li>
</ul>
<h3 id="bug：Exception-in-thread-“main”-org-apache-rocketmq-remoting-exception-RemotingTooMuchRequestException-sendDefaultImpl-call-timeout"><a href="#bug：Exception-in-thread-“main”-org-apache-rocketmq-remoting-exception-RemotingTooMuchRequestException-sendDefaultImpl-call-timeout" class="headerlink" title="bug：Exception in thread “main” org.apache.rocketmq.remoting.exception.RemotingTooMuchRequestException: sendDefaultImpl call timeout"></a>bug：Exception in thread “main” org.apache.rocketmq.remoting.exception.RemotingTooMuchRequestException: sendDefaultImpl call timeout</h3><p>将超时时间设的长一点</p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/Dream_xun/article/details/109555340">参考文献</a></p>
<h3 id="bug：Exception-in-thread-“main”-org-apache-rocketmq-client-exception-MQClientException-Send-3-times-still-failed-cost-6902-ms-Topic-TopicTest-BrokersSent-apache-rocketmq-apache-rocketmq-apache-rocketmq"><a href="#bug：Exception-in-thread-“main”-org-apache-rocketmq-client-exception-MQClientException-Send-3-times-still-failed-cost-6902-ms-Topic-TopicTest-BrokersSent-apache-rocketmq-apache-rocketmq-apache-rocketmq" class="headerlink" title="bug：Exception in thread “main” org.apache.rocketmq.client.exception.MQClientException: Send [3] times, still failed, cost [6902]ms, Topic: TopicTest, BrokersSent: [apache-rocketmq, apache-rocketmq, apache-rocketmq]"></a>bug：Exception in thread “main” org.apache.rocketmq.client.exception.MQClientException: Send [3] times, still failed, cost [6902]ms, Topic: TopicTest, BrokersSent: [apache-rocketmq, apache-rocketmq, apache-rocketmq]</h3><p>绑定的ip地址错误，端口没有暴露出去</p>
<p><code>./mqbroker autoCreateTopicEnable=true -n localhost:9876 -c /home/rocketmq/rocketmq-4.9.2/conf/broker.conf &amp;</code></p>
<p>在配置文件中添加本机的公网ip</p>
<details><summary>代码详情</summary>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">Exception in thread &quot;main&quot; org.apache.rocketmq.client.exception.MQClientException: Send [3] times, still failed, cost [9905]ms, Topic: TopicTest, BrokersSent: [apache-rocketmq, apache-rocketmq, apache-rocketmq]</span><br><span class="line">See http:&#x2F;&#x2F;rocketmq.apache.org&#x2F;docs&#x2F;faq&#x2F; for further details.</span><br><span class="line">	at org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl.sendDefaultImpl(DefaultMQProducerImpl.java:681)</span><br><span class="line">	at org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl.send(DefaultMQProducerImpl.java:1391)</span><br><span class="line">	at org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl.send(DefaultMQProducerImpl.java:1335)</span><br><span class="line">	at org.apache.rocketmq.client.producer.DefaultMQProducer.send(DefaultMQProducer.java:336)</span><br><span class="line">	at Main$SyncProducer.main(Main.java:40)</span><br><span class="line">	at Main.main(Main.java:78)</span><br><span class="line">Caused by: org.apache.rocketmq.remoting.exception.RemotingConnectException: connect to 172.17.0.6:10911 failed</span><br><span class="line">	at org.apache.rocketmq.remoting.netty.NettyRemotingClient.invokeSync(NettyRemotingClient.java:394)</span><br><span class="line">	at org.apache.rocketmq.client.impl.MQClientAPIImpl.sendMessageSync(MQClientAPIImpl.java:505)</span><br><span class="line">	at org.apache.rocketmq.client.impl.MQClientAPIImpl.sendMessage(MQClientAPIImpl.java:489)</span><br><span class="line">	at org.apache.rocketmq.client.impl.MQClientAPIImpl.sendMessage(MQClientAPIImpl.java:433)</span><br><span class="line">	at org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl.sendKernelImpl(DefaultMQProducerImpl.java:870)</span><br><span class="line">	at org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl.sendDefaultImpl(DefaultMQProducerImpl.java:606)</span><br><span class="line">	... 5 more</span><br></pre></td></tr></table></figure>
</details>

<p><a target="_blank" rel="noopener" href="https://www.wandouip.com/t5i270816/">参考文献</a></p>
<h2 id="spring-boot集成"><a href="#spring-boot集成" class="headerlink" title="spring boot集成"></a>spring boot集成</h2><p><a target="_blank" rel="noopener" href="https://juejin.cn/post/6844904035342893063">@Qualifier的作用</a></p>
<p>通过将 <code>@Qualifier</code> 注解与我们想要使用的特定 Spring bean 的名称一起进行装配</p>
<p>一定有个地方注入了这个名字的bean</p>
<h2 id="PushConsumer"><a href="#PushConsumer" class="headerlink" title="PushConsumer"></a>PushConsumer</h2><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/xiaoshen666/p/10867613.html">参考文献</a></p>
<h2 id="有哪些Consumer？"><a href="#有哪些Consumer？" class="headerlink" title="有哪些Consumer？"></a>有哪些Consumer？</h2><h2 id="源码阅读"><a href="#源码阅读" class="headerlink" title="源码阅读"></a>源码阅读</h2><h3 id="class-this的作用"><a href="#class-this的作用" class="headerlink" title="class.this的作用"></a>class.this的作用</h3><p>去掉class.this在1.8版本也能编译通过，是否真的要拿到这个</p>
<p>ClassName.this这个用法多用于在nested class(内部类)中，当inner class(内部类)必顺使用到outer class(外部类)的this instance(实例)时，就用OuterClassName.this</p>
<p><a target="_blank" rel="noopener" href="https://github.com/apache/rocketmq/blob/a68078fef8315a0deeae32af42a029ccd2fa76a4/client/src/main/java/org/apache/rocketmq/client/impl/consumer/PullMessageService.java">仓库地址</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/u011494050/article/details/25466969">Java/android 里ClassName.this和this的使用</a></p>
<p><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/45637427/what-is-classname-this">What is ClassName.this? [ duplicate ]</a></p>
<h2 id="遇到过的问题"><a href="#遇到过的问题" class="headerlink" title="遇到过的问题"></a>遇到过的问题</h2><h3 id="SLAVE-NOT-AVAILABLE"><a href="#SLAVE-NOT-AVAILABLE" class="headerlink" title="SLAVE_NOT_AVAILABLE"></a><a target="_blank" rel="noopener" href="https://blog.csdn.net/zchdjb/article/details/102889760">SLAVE_NOT_AVAILABLE</a></h3><p>最近在 RocketMQ 钉钉官方群中看到有人反馈说 broker 主从部署，在发布消息的时候会报 SLAVE_NOT_AVAILABLE 异常，报这个异常的前提 master 的模式一定为 SYNC_MASTER（同步复制），从 异常码可以直接判断的一种原因就是因为 slave 挂掉了，导致  slave 不可用，但是他说 slave 一切正常。</p>
<p>最后总结，如果 slave 正常运行，报这个错是正常的，你可以适当调整 haSendHeartbeatInterval 参数（1000 <em> 5）的大小，它决定 slave 上报同步位移的心跳频率，以及 haSlaveFallbehindMax 参数值（默认 1024 </em> 1024 * 256），它决定允许 slave 最多落后 master 的位移。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://ednow.github.io/2022/07/24/%E8%AE%B0%E8%B4%A6%E7%9A%84%E5%AD%A6%E9%97%AE/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="ednow">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ednow">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/07/24/%E8%AE%B0%E8%B4%A6%E7%9A%84%E5%AD%A6%E9%97%AE/" class="post-title-link" itemprop="url">记账的学问</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-07-24 23:56:09" itemprop="dateCreated datePublished" datetime="2022-07-24T23:56:09+08:00">2022-07-24</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-07-25 00:05:32" itemprop="dateModified" datetime="2022-07-25T00:05:32+08:00">2022-07-25</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="记账的学问"><a href="#记账的学问" class="headerlink" title="记账的学问"></a>记账的学问</h1><h2 id="钱去哪了？学会记账让你不再月光-三种记账方法总有一款适合你"><a href="#钱去哪了？学会记账让你不再月光-三种记账方法总有一款适合你" class="headerlink" title="钱去哪了？学会记账让你不再月光 | 三种记账方法总有一款适合你"></a><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1yA4y1R7kE">钱去哪了？学会记账让你不再月光 | 三种记账方法总有一款适合你</a></h2><h3 id="最简单的方式"><a href="#最简单的方式" class="headerlink" title="最简单的方式"></a>最简单的方式</h3><p>使用三张借记卡，查看银行卡自动生成的账单</p>
<p>1.灵活支出</p>
<p>2.固定支出（房租）</p>
<p>3.工作支出（待报销）</p>
<h3 id="做两张表"><a href="#做两张表" class="headerlink" title="做两张表"></a>做两张表</h3><h4 id="理论基础"><a href="#理论基础" class="headerlink" title="理论基础"></a>理论基础</h4><p>1.此时此刻家庭总共有多少资产和负债？</p>
<p>总资产-总负债=净资产</p>
<p>2.今年以来，每个月赚了和花了多少钱？</p>
<details><summary>资产负债表</summary><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://raw.githubusercontent.com/ednow/cloudimg/main/githubio/image.png" alt="找不到图片(Image not found)" onerror="this.onerror=null;this.src='https://gitee.com/ednow/cloudimg/raw/main/githubio/image.png';" /></details>

<details><summary>现金流量表</summary><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://raw.githubusercontent.com/ednow/cloudimg/main/githubio/image-1.png" alt="找不到图片(Image not found)" onerror="this.onerror=null;this.src='https://gitee.com/ednow/cloudimg/raw/main/githubio/image-1.png';" /></details>


<h3 id="最好的方式"><a href="#最好的方式" class="headerlink" title="最好的方式"></a>最好的方式</h3><details><summary>记账细分表</summary><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://raw.githubusercontent.com/ednow/cloudimg/main/githubio/20220725000336.png" alt="找不到图片(Image not found)" onerror="this.onerror=null;this.src='https://gitee.com/ednow/cloudimg/raw/main/githubio/20220725000336.png';" /></details>

<p>粗分</p>
<ul>
<li>事实导向分类</li>
<li>目的导向分类</li>
<li>预算导向分类</li>
</ul>
<details><summary>记账粗分表</summary><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://raw.githubusercontent.com/ednow/cloudimg/main/githubio/20220725000503.png" alt="找不到图片(Image not found)" onerror="this.onerror=null;this.src='https://gitee.com/ednow/cloudimg/raw/main/githubio/20220725000503.png';" /></details>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://ednow.github.io/2022/07/24/%E8%AE%B0%E8%B4%A6/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="ednow">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ednow">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/07/24/%E8%AE%B0%E8%B4%A6/" class="post-title-link" itemprop="url">记账</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-07-24 23:46:34" itemprop="dateCreated datePublished" datetime="2022-07-24T23:46:34+08:00">2022-07-24</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/index/page/2/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/index/">1</a><a class="page-number" href="/index/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/index/page/4/">4</a><span class="space">&hellip;</span><a class="page-number" href="/index/page/35/">35</a><a class="extend next" rel="next" href="/index/page/4/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      



      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">ednow</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">345</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">1</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">57</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">ednow</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  
      

<script>
  if (typeof MathJax === 'undefined') {
    window.MathJax = {
      loader: {
        source: {
          '[tex]/amsCd': '[tex]/amscd',
          '[tex]/AMScd': '[tex]/amscd'
        }
      },
      tex: {
        inlineMath: {'[+]': [['$', '$']]},
        tags: 'ams'
      },
      options: {
        renderActions: {
          findScript: [10, doc => {
            document.querySelectorAll('script[type^="math/tex"]').forEach(node => {
              const display = !!node.type.match(/; *mode=display/);
              const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
              const text = document.createTextNode('');
              node.parentNode.replaceChild(text, node);
              math.start = {node: text, delim: '', n: 0};
              math.end = {node: text, delim: '', n: 0};
              doc.math.push(math);
            });
          }, '', false],
          insertedScript: [200, () => {
            document.querySelectorAll('mjx-container').forEach(node => {
              let target = node.parentNode;
              if (target.nodeName.toLowerCase() === 'li') {
                target.parentNode.classList.add('has-jax');
              }
            });
          }, '', false]
        }
      }
    };
    (function () {
      var script = document.createElement('script');
      script.src = '//cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js';
      script.defer = true;
      document.head.appendChild(script);
    })();
  } else {
    MathJax.startup.document.state(0);
    MathJax.texReset();
    MathJax.typeset();
  }
</script>

    

  



        <style>
            [bg-lazy] {
                background-image: none !important;
                background-color: #eee !important;
            }
        </style>
        <script>
            window.imageLazyLoadSetting = {
                isSPA: false,
                preloadRatio: 1,
                processImages: null,
            };
        </script><script>window.addEventListener("load",function(){var t=/\.(gif|jpg|jpeg|tiff|png)$/i,r=/^data:image\/[a-z]+;base64,/;Array.prototype.slice.call(document.querySelectorAll("img[data-original]")).forEach(function(a){var e=a.parentNode;"A"===e.tagName&&(e.href.match(t)||e.href.match(r))&&(e.href=a.dataset.original)})});</script><script>!function(r){r.imageLazyLoadSetting.processImages=t;var e=r.imageLazyLoadSetting.isSPA,n=r.imageLazyLoadSetting.preloadRatio||1,c=a();function a(){var t=Array.prototype.slice.call(document.querySelectorAll("img[data-original]")),e=Array.prototype.slice.call(document.querySelectorAll("[bg-lazy]"));return t.concat(e)}function t(){e&&(c=a());for(var t,o=0;o<c.length;o++)0<=(t=(t=c[o]).getBoundingClientRect()).bottom&&0<=t.left&&t.top<=(r.innerHeight*n||document.documentElement.clientHeight*n)&&function(){var t,e,n,a,i=c[o];e=function(){c=c.filter(function(t){return i!==t}),r.imageLazyLoadSetting.onImageLoaded&&r.imageLazyLoadSetting.onImageLoaded(i)},(t=i).hasAttribute("bg-lazy")?(t.removeAttribute("bg-lazy"),e&&e()):(n=new Image,a=t.getAttribute("data-original"),n.onload=function(){t.src=a,t.removeAttribute("data-original"),e&&e()},t.src!==a&&(n.src=a))}()}function i(){clearTimeout(t.tId),t.tId=setTimeout(t,500)}t(),document.addEventListener("scroll",i),r.addEventListener("resize",i),r.addEventListener("orientationchange",i)}(this);</script></body>
</html>
